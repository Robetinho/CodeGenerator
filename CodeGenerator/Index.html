<!DOCTYPE html>
<html>
<head>
    <title></title>
    
    <script src="lib/codemirror.js"></script>
    <link rel="stylesheet" href="lib/codemirror.css">
    <!--<script src="mode/javascript/javascript.js"></script>-->

    <script src="Code/Generator.js">
  
    </script> 
 
    <meta charset="utf-8" />
</head>
<body>


    <code onkeypress="splitSpan()"  contenteditable="true">
        <!--<span style="color: blue; margin:0px;">v</span>
        <span style="color: blue; margin:0px;">a</span>
        <span style="color: blue; margin:0px;">r</span>
        <span  id="span1" style="color: green; margin:0px;">a</span>
        <span style="color: green; margin:0px;">sc</span>;-->
    </code>

    <br />

    <textarea style="width:400px;height:400px" onkeyup="textChanged(this.value)"   >
        ##for(ab in batters.batter){{
public string name() { get; set; }
private _this = new () ##id; ff ##ppu; ##name; ##batters.batter[0].type;
        }}
        xx

    </textarea>


    <textarea style="width:400px;height:400px" id="result">



    </textarea>

    <br />
    <br />
    <br />

    <textarea style="width:400px;height:400px" id="json">
        {
        "id": "0001",
        "type": "donut",
        "name": "Cake",
        "ppu": 0.55,
        "batters":
        {
        "batter":
        [
        { "id": "1001", "type": "Regular" },
        { "id": "1002", "type": "Chocolate" },
        { "id": "1003", "type": "Blueberry" },
        { "id": "1004", "type": "Devil's Food" }
        ]
        },
        "topping":
        [
        { "id": "5001", "type": "None" },
        { "id": "5002", "type": "Glazed" },
        { "id": "5005", "type": "Sugar" },
        { "id": "5007", "type": "Powdered Sugar" },
        { "id": "5006", "type": "Chocolate with Sprinkles" },
        { "id": "5003", "type": "Chocolate" },
        { "id": "5004", "type": "Maple" }
        ]
        }


    </textarea>
    <script type="text/javascript">
        var myCodeMirror = CodeMirror(document.body, {
            value: "function myScript(){return 100;}\n",
            mode: "javascript"
        });





        //function insertTextAtCursor(text) {
        //    var sel, range, textNode;
        //    if (window.getSelection) {
        //        sel = window.getSelection();
        //        if (sel.getRangeAt && sel.rangeCount) {
        //            range = sel.getRangeAt(0).cloneRange();
        //            range.deleteContents();
        //            //textNode = document.createTextNode(text);
        //            textNode = document.createElement("span")
        //            textNode.innerHTML = text;
        //            range.insertNode(textNode);

        //            //alert(textNode.value);
        //            // Move caret to the end of the newly inserted text node
        //            range.setStart(textNode, textNode.length + 1);
        //            range.setEnd(textNode, textNode.length + 1);
        //            sel.removeAllRanges();
        //            sel.addRange(range);
        //        }
        //    } else if (document.selection && document.selection.createRange) {
        //        range = document.selection.createRange();

        //        range.pasteHTML(text);
        //    }
        //}


        //$("#editable").keypress(function (evt) {
        //    if (evt.which) {
        //        var charStr = String.fromCharCode(evt.which);
        //        var transformedChar = charStr
        //        //transformTypedCharacter(charStr);
        //        // if (transformedChar != charStr) {
        //        insertTextAtCursor(transformedChar);
        //        return false;
        //        // }
        //    }
        //});
    </script>
</body>
</html>
